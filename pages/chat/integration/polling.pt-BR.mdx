# Pooling

Após a autenticação bem-sucedida, é iniciado o processo de polling para verificar se existem ações a serem tomadas para cada agente. O polling consiste em chamar periodicamente um webservice para obter os eventos disponíveis para o agente.

```js
GET - WsAgentEvent/GetNextEventChat?agentId=1234
```

## Sobre o retorno do GetNextEventChat

A chamada pode ter dois tipos de retorno

### (null)

Quando a chamada retorna "(null)", significa que não há eventos pendentes para o agente no momento.

### Objeto

Quando a chamada retorna um objeto com a estrutura especificada abaixo, indica que o Olos enviou um evento para o agente. Este objeto contém dois parâmetros importantes: eventTypeId, que identifica o tipo de evento retornado, e eventData, que contém os dados relacionados ao evento.

```js
// Esse exemplo de response significa que ocorreu um LoginCampaign na campanha 5.
{
  "eventTypeId": 5,
  "timestamp": "2024-04-26T14:48:08.860838-03:00",
  "campaignId": 8,
  "eventData": {
      "agentId": 1099,
      "campaignId": 8,
      "campaignName": "WebChat Test",
      "campaignCode": ""
  },
  "channel": null
}
```